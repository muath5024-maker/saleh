# ๐ ุชูุฑูุฑ ุชุญููู ุดุงูู ูููุดุฑูุน - MBUY

## ๐ฏ ูุธุฑุฉ ุนุงูุฉ

ุงููุดุฑูุน ุนุจุงุฑุฉ ุนู ููุตุฉ ุชุฌุงุฑุฉ ุฅููุชุฑูููุฉ ูุชูุงููุฉ ุชุฌูุน ุจูู ุชุทุจูู Flutter ููุฌูุงูุ ูุจููุฉ ุชุญุชูุฉ ุนูู Supabaseุ ูุจูุงุจุฉ API ุนูู Cloudflare Workers.

---

## ๐๏ธ ุจููุฉ ุงููุดุฑูุน

### 1๏ธโฃ **saleh** - ุชุทุจูู Flutter
- **ุงููุณุงุฑ:** `C:\muath\saleh`
- **ุงูุชูููุงุช:** Flutter 3.10+, Dart 3.0+
- **ุงููุตู:** ุชุทุจูู ุฌูุงู ูุชุนุฏุฏ ุงูููุตุงุช (Android, iOS, Web) ููุชุณูู ูุฅุฏุงุฑุฉ ุงููุชุงุฌุฑ

#### ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ:
- **ููุนููุงุก:**
  - ุงูุชุณูู ูู ูุชุงุฌุฑ ูุชุนุฏุฏุฉ
  - ุณูุฉ ุชุณูู ุฐููุฉ
  - ูุญูุธุฉ ุฅููุชุฑูููุฉ
  - ูุธุงู ุงูููุงุท ูุงูููุงูุขุช
  - ููุจููุงุช ุฎุตู
  - ุชุชุจุน ุงูุทูุจุงุช
  - ุงูููุถูุฉ
  - ุงุณุชูุดุงู ุงููุญุชูู (ููุฏูููุงุชุ ูุตุต)

- **ููุชุฌุงุฑ:**
  - ุฅุฏุงุฑุฉ ุงููุชุฌุฑ ูุงูููุชุฌุงุช
  - ููุญุฉ ุชุญูู ุดุงููุฉ
  - ุฅุฏุงุฑุฉ ุงูุทูุจุงุช
  - ูุญูุธุฉ ุงูุชุงุฌุฑ
  - ูุธุงู ุงูููุงุท ุงููุฏููุน
  - ุฏุนู ุงููุชุฌุฑ (Boost)
  - ุฅุจุฑุงุฒ ุนูู ุงูุฎุฑูุทุฉ
  - ุฅุฏุงุฑุฉ ุงูููุฏูููุงุช ูุงููุตุต
  - ุงูุชุญูููุงุช ูุงูุฅุญุตุงุฆูุงุช

#### ุงููููู ุงูุฃุณุงุณู:
```
lib/
โโโ core/              # ุงููุธุงุฆู ุงูุฃุณุงุณูุฉ
โ   โโโ services/      # ุงูุฎุฏูุงุช ุงููุดุชุฑูุฉ
โ   โโโ theme/         # ูุธุงู ุงูุชุตููู
โ   โโโ data/          # ููุงุฐุฌ ุงูุจูุงูุงุช
โโโ features/          # ุงูููุฒุงุช ุญุณุจ ุงููุทุงู
โ   โโโ auth/         # ุงููุตุงุฏูุฉ
โ   โโโ customer/     # ููุฒุงุช ุงูุนููู
โ   โโโ merchant/     # ููุฒุงุช ุงูุชุงุฌุฑ
โ   โโโ common/       # ููุฒุงุช ูุดุชุฑูุฉ
โโโ shared_widgets/    # Widgets ูุดุชุฑูุฉ
```

#### ุงูุชุจุนูุงุช ุงูุฑุฆูุณูุฉ:
- `supabase_flutter`: ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช
- `firebase_core`, `firebase_analytics`, `firebase_messaging`: Firebase
- `flutter_map`: ุงูุฎุฑุงุฆุท
- `google_fonts`: ุงูุฎุทูุท
- `fl_chart`: ุงูุฑุณูู ุงูุจูุงููุฉ
- `google_generative_ai`: Gemini AI
- `image_picker`: ุงุฎุชูุงุฑ ุงูุตูุฑ
- `carousel_slider`: ุงูุจุงูุฑุงุช

---

### 2๏ธโฃ **mbuy-backend** - Supabase Edge Functions
- **ุงููุณุงุฑ:** `C:\muath\mbuy-backend`
- **ุงูุชูููุงุช:** Deno, TypeScript, Supabase SDK
- **ุงููุตู:** ูุธุงุฆู Edge ูููุนุงูุฌุฉ ุงูุฎูููุฉ

#### ุงููุธุงุฆู ุงููุชููุฑุฉ:
1. `wallet_add` - ุฅุถุงูุฉ ุฑุตูุฏ ูููุญูุธุฉ
2. `points_add` - ุฅุถุงูุฉ ููุงุท
3. `create_order` - ุฅูุดุงุก ุทูุจ ูุน ูุนุงูุฌุฉ ุงูุฏูุน
4. `merchant_register` - ุชุณุฌูู ุชุงุฌุฑ ุฌุฏูุฏ
5. `product_create` - ุฅูุดุงุก ููุชุฌ
6. `product_update` - ุชุญุฏูุซ ููุชุฌ
7. `product_delete` - ุญุฐู ููุชุฌ
8. `products_list` - ูุงุฆูุฉ ุงูููุชุฌุงุช
9. `store_update` - ุชุญุฏูุซ ูุนูููุงุช ุงููุชุฌุฑ
10. `orders_list` - ูุงุฆูุฉ ุงูุทูุจุงุช
11. `order_details` - ุชูุงุตูู ุงูุทูุจ
12. `store_orders` - ุทูุจุงุช ุงููุชุฌุฑ
13. `wallet_transactions` - ูุนุงููุงุช ุงููุญูุธุฉ
14. `points_transactions` - ูุนุงููุงุช ุงูููุงุท
15. `merchant_store` - ูุนูููุงุช ูุชุฌุฑ ุงูุชุงุฌุฑ
16. `merchant_products` - ููุชุฌุงุช ุงูุชุงุฌุฑ
17. `user_profile` - ููู ุงููุณุชุฎุฏู

#### ูุงุนุฏุฉ ุงูุจูุงูุงุช:
- **PostgreSQL** ุนูู Supabase
- **ุงููุดุฑูุน:** sirqidofuvphqcxqchyc.supabase.co
- **ุงูุฌุฏุงูู ุงูุฑุฆูุณูุฉ:**
  - `user_profiles` - ูููุงุช ุงููุณุชุฎุฏููู
  - `stores` - ุงููุชุงุฌุฑ
  - `products` - ุงูููุชุฌุงุช
  - `categories` - ุงููุฆุงุช
  - `orders` - ุงูุทูุจุงุช
  - `order_items` - ุนูุงุตุฑ ุงูุทูุจุงุช
  - `cart_items` - ุนูุงุตุฑ ุงูุณูุฉ
  - `wallets` - ุงููุญุงูุธ
  - `wallet_transactions` - ูุนุงููุงุช ุงููุญูุธุฉ
  - `points_accounts` - ุญุณุงุจุงุช ุงูููุงุท
  - `points_transactions` - ูุนุงููุงุช ุงูููุงุท
  - `favorites` - ุงูููุถูุฉ
  - `reviews` - ุงูุชููููุงุช
  - `coupons` - ุงูููุจููุงุช
  - `videos` - ุงูููุฏูููุงุช
  - `stories` - ุงููุตุต
  - `notifications` - ุงูุฅุดุนุงุฑุงุช

---

### 3๏ธโฃ **mbuy-worker** - Cloudflare Worker API Gateway
- **ุงููุณุงุฑ:** `C:\muath\mbuy-worker`
- **ุงูุชูููุงุช:** TypeScript, Hono, Cloudflare Workers
- **ุงููุตู:** ุจูุงุจุฉ API ูุฑูุฒูุฉ ููุนุงูุฌุฉ ุงููุณุงุฆุท ูุงูุฐูุงุก ุงูุงุตุทูุงุนู

#### ุงูููุฒุงุช:
- **JWT Authentication:** ุงูุชุญูู ูู ุงููููุฉ
- **Media Upload:** ุฑูุน ุงูุตูุฑ ูุงูููุฏูููุงุช ุนุจุฑ Cloudflare Images/Stream
- **AI Endpoints:** Gemini AI ููุฏุฑุฏุดุฉ ูุงูุชุญููู
- **Public Routes:** ููุชุฌุงุชุ ูุชุงุฌุฑุ ูุฆุงุช
- **Secure Routes:** ุนูููุงุช ุงููุณุชุฎุฏู ุงููุตุฏู
- **Durable Objects:** Session Store ู Chat Room
- **Queues:** ูุนุงูุฌุฉ ุงูุทูุจุงุช (ูุนูู - ูุชุทูุจ ุฎุทุฉ ูุฏููุนุฉ)
- **Workflows:** ูุนุงูุฌุฉ ุงูุทูุจุงุช ุงููุชูุฏูุฉ (ูุนูู)

#### ุงูู Endpoints ุงูุฑุฆูุณูุฉ:

**Public (ุจุฏูู ูุตุงุฏูุฉ):**
- `GET /public/products` - ูุงุฆูุฉ ุงูููุชุฌุงุช
- `GET /public/products/:id` - ููุชุฌ ูุญุฏุฏ
- `GET /public/stores` - ูุงุฆูุฉ ุงููุชุงุฌุฑ
- `GET /public/stores/:id` - ูุชุฌุฑ ูุญุฏุฏ
- `GET /public/categories` - ุงููุฆุงุช
- `GET /public/videos` - ุงูููุฏูููุงุช
- `GET /public/search` - ุงูุจุญุซ

**Secure (ูุชุทูุจ JWT):**
- `POST /secure/orders/create` - ุฅูุดุงุก ุทูุจ
- `GET /secure/orders` - ูุงุฆูุฉ ุงูุทูุจุงุช
- `GET /secure/wallet` - ุฑุตูุฏ ุงููุญูุธุฉ
- `POST /secure/wallet/add` - ุฅุถุงูุฉ ุฑุตูุฏ
- `GET /secure/points` - ุฑุตูุฏ ุงูููุงุท
- `POST /secure/points/add` - ุฅุถุงูุฉ ููุงุท
- `GET /secure/cart` - ุงูุณูุฉ
- `POST /secure/cart` - ุฅุถุงูุฉ ููุณูุฉ
- `GET /secure/favorites` - ุงูููุถูุฉ
- `POST /secure/merchant/products` - ููุชุฌุงุช ุงูุชุงุฌุฑ
- `POST /secure/ai/gemini/chat` - ุงูุฏุฑุฏุดุฉ ูุน Gemini
- `POST /secure/ai/gemini/generate` - ุชูููุฏ ูุต
- `POST /secure/ai/gemini/vision` - ุชุญููู ุงูุตูุฑ

**Media:**
- `POST /media/image` - ุฑูุน ุตูุฑุฉ
- `POST /media/video` - ุฑูุน ููุฏูู

#### ุงูุชูููู:
- **Worker Name:** misty-mode-b68b
- **URL:** https://misty-mode-b68b.baharista1.workers.dev
- **Account ID:** 0be397f41b9240364b007e5e392c26de

---

## ๐ ุชุฏูู ุงูุจูุงูุงุช

```
โโโโโโโโโโโโโโโโโโโโโโโ
โ   Flutter App       โ
โ   (saleh)           โ
โ                     โ
โ  - UI/UX            โ
โ  - State Management โ
โ  - Navigation       โ
โโโโโโโโโโโโฌโโโโโโโโโโโ
           โ
           โ HTTP Requests
           โ (Worker API)
           โ
           โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ   Cloudflare Worker                 โ
โ   (mbuy-worker)                     โ
โ                                     โ
โ  - JWT Verification                 โ
โ  - Media Upload                     โ
โ  - AI Endpoints                     โ
โ  - Routing                          โ
โโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโ
           โ
           โ RPC / HTTP
           โ
           โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ   Supabase Backend                  โ
โ   (mbuy-backend)                    โ
โ                                     โ
โ  - Edge Functions                   โ
โ  - PostgreSQL Database              โ
โ  - Storage (R2)                     โ
โ  - Real-time Subscriptions          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ ุงูุฃูุงู

### ุงููุตุงุฏูุฉ:
- **Supabase Auth:** ูููุตุงุฏูุฉ ุงูุฃุณุงุณูุฉ
- **JWT Tokens:** ููุชุญูู ูู ุงููููุฉ ูู Worker
- **Internal Keys:** ููุงุชุตุงู ุจูู Worker ู Edge Functions

### ุงูุชุฎุฒูู:
- **Cloudflare R2:** ูููุณุงุฆุท (ุงูุตูุฑ ูุงูููุฏูููุงุช)
- **Cloudflare Images:** ูุชุญุณูู ุงูุตูุฑ
- **Cloudflare Stream:** ููููุฏูููุงุช

### ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ:

**Flutter (.env):**
- `SUPABASE_URL`
- `SUPABASE_ANON_KEY`
- `CLOUDFLARE_WORKER_URL`
- `CF_IMAGES_ACCOUNT_ID`
- ูุบูุฑูุง (11 ูุชุบูุฑ ุนุงู)

**Worker (Secrets):**
- `SUPABASE_ANON_KEY`
- `EDGE_INTERNAL_KEY`
- `CF_IMAGES_API_TOKEN`
- `CF_STREAM_API_TOKEN`
- `R2_ACCESS_KEY_ID`
- `R2_SECRET_ACCESS_KEY`
- `GEMINI_API_KEY`
- ูุบูุฑูุง

**Backend (Edge Functions):**
- `SUPABASE_URL`
- `SUPABASE_SERVICE_ROLE_KEY`
- `EDGE_INTERNAL_KEY`
- `FIREBASE_SERVER_KEY`

---

## ๐ ุญุงูุฉ ุงููุดุฑูุน

### โ ุงูููุชูู:
1. **ุงูุจููุฉ ุงูุชุญุชูุฉ:**
   - โ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงููุงููุฉ
   - โ Edge Functions ุงูุฃุณุงุณูุฉ
   - โ Worker API Gateway
   - โ ูุธุงู ุงููุตุงุฏูุฉ

2. **ุงูููุฒุงุช ุงูุฃุณุงุณูุฉ:**
   - โ ุฅุฏุงุฑุฉ ุงูููุชุฌุงุช
   - โ ุงูุณูุฉ ูุงูุทูุจุงุช
   - โ ุงููุญูุธุฉ ูุงูููุงุท
   - โ ุงูููุถูุฉ
   - โ ุงูุชููููุงุช
   - โ ุงูููุจููุงุช

3. **ูุงุฌูุฉ ุงููุณุชุฎุฏู:**
   - โ ุชุตููู SHEIN ููุนููุงุก
   - โ ููุญุฉ ุชุญูู ุงูุชุงุฌุฑ
   - โ ุฏุนู RTL ููุนุฑุจูุฉ
   - โ ูุธุงู ุงูุฃููุงู ุงูููุญุฏ

4. **ุงูุชูุงูู:**
   - โ Firebase Analytics
   - โ Push Notifications
   - โ Cloudflare Images
   - โ Gemini AI

### ๐ง ููุฏ ุงูุชุทููุฑ:
1. **ุงูููุฒุงุช ุงููุชูุฏูุฉ:**
   - โณ Queues (ูุชุทูุจ ุฎุทุฉ ูุฏููุนุฉ)
   - โณ Workflows (ูุชุทูุจ ุฎุทุฉ ูุฏููุนุฉ)
   - โณ Browser Rendering
   - โณ Durable Objects (ุฌุฒุฆู)

2. **ุงูุชุญุณููุงุช:**
   - โณ ูุธุงู ุงูุจุญุซ ุงููุชูุฏู
   - โณ ุงูุชูุตูุงุช ุงูุฐููุฉ
   - โณ ุชุญูููุงุช ูุชูุฏูุฉ

---

## ๐ ุฅุญุตุงุฆูุงุช ุงููุดุฑูุน

### ุงููููุงุช:
- **Flutter:** ~278 ููู Dart
- **Backend:** 17 Edge Function
- **Worker:** 1 Worker ุฑุฆูุณู + Durable Objects + Queues

### ูุงุนุฏุฉ ุงูุจูุงูุงุช:
- **ุงูุฌุฏุงูู:** 30+ ุฌุฏูู
- **ุงููุธุงุฆู:** 10+ ุฏุงูุฉ SQL
- **ุงูู Indexes:** 50+ ููุฑุณ

### ุงูุฎุทูุท ุงูุจุฑูุฌูุฉ (ุชูุฏูุฑู):
- **Flutter:** ~50,000+ ุณุทุฑ
- **Backend:** ~5,000+ ุณุทุฑ
- **Worker:** ~2,800+ ุณุทุฑ
- **SQL:** ~2,000+ ุณุทุฑ

---

## ๐๏ธ ุงูุฃุฏูุงุช ุงููุณุชุฎุฏูุฉ

### ุงูุชุทููุฑ:
- **IDE:** VS Code / Cursor
- **Version Control:** Git
- **Package Manager:**
  - Flutter: `pub`
  - Node.js: `npm`
  - Deno: Remote imports

### ุงููุดุฑ:
- **Flutter App:** Google Play, App Store, Web
- **Backend:** Supabase Edge Functions
- **Worker:** Cloudflare Workers

### ุงููุฑุงูุจุฉ:
- **Firebase Analytics:** ุชุญูููุงุช ุงููุณุชุฎุฏู
- **Cloudflare Analytics:** ุชุญูููุงุช Worker
- **Supabase Dashboard:** ุฅุฏุงุฑุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช

---

## ๐ ุงูููุงุญุธุงุช ุงููููุฉ

1. **ุงูุจููุฉ ุงููุนูุงุฑูุฉ:**
   - ุชู ุชูุณูู ุงููุดุฑูุน ุฅูู 3 ูุณุชูุฏุนุงุช ูููุตูุฉ
   - Backend ูููุตู ุนู Flutter
   - Worker ูุจูุงุจุฉ API ูุฑูุฒูุฉ

2. **ุงูุฃูุงู:**
   - ุฌููุน ุงูููุงุชูุญ ุงูุณุฑูุฉ ูู Worker Secrets
   - JWT ููุชุญูู ูู ุงููููุฉ
   - RLS (Row Level Security) ูู Supabase

3. **ุงูุฃุฏุงุก:**
   - Cloudflare CDN ููุตูุฑ
   - Worker ุนูู Edge ููุณุฑุนุฉ
   - Real-time subscriptions ููุจูุงูุงุช ุงูุญูุฉ

4. **ุงููุงุจููุฉ ููุชูุณุน:**
   - ุจููุฉ ููุฒุนุฉ
   - ูุนุงูุฌุฉ ุบูุฑ ูุชุฒุงููุฉ
   - Cache ูู Cloudflare

---

## ๐ฏ ุงูุชูุตูุงุช

### ุชุญุณููุงุช ููุฑูุฉ:
1. โ ุฅุถุงูุฉ ุงุฎุชุจุงุฑุงุช ุชููุงุฆูุฉ
2. โ ุชูุซูู API ูุงูู
3. โ ูุฑุงูุจุฉ ุงูุฃุฎุทุงุก (Sentry)
4. โ ุชุญุณูู ุงูุฃุฏุงุก (Lazy Loading)

### ุชุญุณููุงุช ูุณุชูุจููุฉ:
1. ๐ ูุธุงู ุงูุจุญุซ ุงููุชูุฏู (Elasticsearch)
2. ๐ ุชูุตูุงุช ุฐููุฉ (ML)
3. ๐ ุฏุนู ูุชุนุฏุฏ ุงููุบุงุช
4. ๐ ูุธุงู ุงูุฏูุน ุงููุงูู

---

## ๐ ุงููุซุงุฆู ุงููุชููุฑุฉ

ุงููุดุฑูุน ูุญุชูู ุนูู ูุซุงุฆู ุดุงููุฉ:
- `README.md` - ุฏููู ุงูุจุฏุก
- `BACKEND-REPOS.md` - ุจููุฉ Backend
- `PROJECT_ANALYSIS.md` - ุชุญููู ุงููุดุฑูุน
- `DEPLOYMENT_GUIDE.md` - ุฏููู ุงููุดุฑ
- `MBUY_API_DOCUMENTATION.md` - ุชูุซูู API
- ูุบูุฑูุง (50+ ููู ุชูุซูู)

---

**ุชุงุฑูุฎ ุงูุชุญููู:** ููุงูุฑ 2025  
**ุญุงูุฉ ุงููุดุฑูุน:** โ ูุดุท ูููุชูู ุจูุณุจุฉ 85%  
**ุงููุฑุญูุฉ ุงูุญุงููุฉ:** ุฅูุชุงุฌ ูุน ุชุญุณููุงุช ูุณุชูุฑุฉ

